
import useBaseUrl from '@docusaurus/useBaseUrl';

### 概要

* 在工程中，如果作业组过多且周期很长的时候，为了方便分类和管理，推荐使用项目功能。
* 一个完整的项目，其管理功能包括了内容包括支持流程、资源、子项模板、子项、执行项、甘特图等。对于这几项的介绍，以及在使用过程中需要知道和注意的地方，请查看[4.0.0发布说明](发布说明/4.0.0发布说明.md)中项目管理功能增强部分的内容。
* 下面将会以一个完整的项目管理工程demo为例，来完整的说明一下如何使用项目功能。

### 配置资源

* 首先需要登录EOC（企业运营中心），顶部导航栏的配置里，点击资源进入到资源页面。资源就是活动中所需要用到的东西，现在分为三种类型：人力、工具和材料。点击左上角的新建，在弹出的窗口中填写好相应内容，确定即可。之后有变化也可以选择相应资源进行编辑。
  * 其内信息依次为：
    * 资源类型：必选，资源的类型
    * 资源名称：必填，字符串，资源的名称
    * 工种：字符串，资源所属的工种
    * 资质：字符串，资源的资质
    * 单位：字符串，资源以什么单位统计
    * 数量：数值，现有资源的总数量
    * 单位成本：数值，资源的单位成本

  <img alt=" " src={useBaseUrl('docimg/xiangmuguanli2.png')} />

* 之后在SDC（解决方案开发中心）中，为将要用到资源的作业组模板进行配置。在作业组属性框中，找到所需资源项，点击打开编辑，在编辑框中选择新增，在弹出的选择资源框中勾选该作业组模板会用到的资源。

  <img alt=" " src={useBaseUrl('docimg/项目1.png')} />

* EOC上的资源可以看做是企业当前总共拥有的，这里的数量填写这一次此进行作业组模板活动时会用到的数量即可。配置完成后，点击发布作业组。

  <img alt=" " src={useBaseUrl('docimg/项目2.png')} />

* 填写完成，点击确定，所需资源就配置好了，其他作业组模板有需要用到资源的，一样配置。

  <img alt=" " src={useBaseUrl('docimg/项目3.png')} />

### 配置流程和新建项目模板

* 同作业组计划一样，项目的整体进度也可以用业务流程来进行管理，同样也是在业务流程管理器中配置。关于如何配置业务流程，请参考[流程管理器](系统配置手册/流程管理器/流程管理器.md)，注意项目的业务流程，其中的配置仅用来管理项目的进度，与项目中的作业组所属流程并无关系和影响。下图为一个示例：

  <img alt=" " src={useBaseUrl('docimg/项目4.png')} />

* 配置好了业务流程，接下来就是在作业管理器中选择项目模板，新建一个项目模板。

  <img alt=" " src={useBaseUrl('docimg/项目5.png')} />

* 之后为这个模板设置编号，项目的管理员，以及所属的业务流程。此管理员为管理属于此类项目模板的项目人员，拥有管理流程和编辑内容的权限，对项目来说是除了超级管理员外权限最高的。如果没有设置，则所有拥有EOC权限的用户都可以进行管理。至此，SDC上的配置就算完成了。

  <img alt=" " src={useBaseUrl('docimg/项目6.png')} />

### 新建子项模板

* SDC上的配置完成后，登录EOC，在顶部导航栏的配置中，选择子项模板，进入到视图页面。子项模板的主要作用是作为一个通用的模板来被一个或多个项目引用。
* 点击新建，填写相应信息，子项模板名必填，子项模板描述的数据类型为字符串，这里若选择了关联某个资产，那么子项模板中添加的子项关联的资产范围将自动变为该资产及其所有子级。同时，可以为子项模板添加自定义的属性。新建完成点击确定即可。

  <img alt=" " src={useBaseUrl('docimg/项目7.png')} />

  <img alt=" " src={useBaseUrl('docimg/项目8.png')} />

* 之后点击子项模板标题框，进入到详细页面，开始进行配置。子项模板的页面概要包括：
  * 编辑其他：可以选择其他的子项模板，在此子项模板中进行编辑，支持跨子项模板关联
  * 批量删除：可以批量删除子项和执行项，按住Ctrl或者Shift键，鼠标点击选中后即可批量删除
  * 自动排程：在要求子项或执行项有规则的按序执行时，需要给其设置前置或后置节点，这时候可以通过关联线来使子项或执行项与其他一个或多个子项或执行项成为关联关系，设置关联后点击自动排程，系统会根据规则自动将有关联关系的子项或执行项排程为前后的样式。
  * 视图：支持表格+甘特图+资源、表格+甘特图、甘特图和表格四种，页面的左侧为表格，右侧为甘特图，下方为资源名称和资源数量，数量越大颜色越深
  * 缩放等级：右侧甘特图和资源数量的缩放等级可选小时、日、周、月、年以及自动适应，可以根据习惯进行选择
  * 全屏：全屏模式显示视图内容
  * 全部展开/全部收起：展开显示所有视图内容/将所有内容收起只显示根子项
  * 返回：返回到子项模板视图页面
  * 刷新：刷新内容

    <img alt=" " src={useBaseUrl('docimg/项目9.png')} />

* 根子项即为子项模板名，初始预估时长默认为0，无添加的情况下可以通过在甘特图中拖动来改变时长。添加子项或执行项后，时长会由最子级的子项或执行项来决定，子项中可以一直添加子项，执行项中则不可添加任何。添加子项，必须填写子项的名称，开始的时间，预估的时长。可以为子项关联资产，添加任意的属性。因为在子项模板中，根子项的开始时间默认显示为当前时间的第二天0点，所以在子项模板中子项和执行项的开始时间只是个必填的参考项。如图：

  <img alt=" " src={useBaseUrl('docimg/项目10.png')} />

* 执行项就是一个工单，添加执行项就是选择一个作业组模板，可以修改作业组名称，添加描述。开始时间和预估时长不能为空。可以查看配置的所需资源，不可编辑。如果改作业组模板配置了属性且权限为可修改，也可以进行值的修改。

  <img alt=" " src={useBaseUrl('docimg/项目11.png')} />

* 编辑的内容是实时保存的，编辑其他子项模板也是一样，编辑后的内容会保存到相应子项模板中去。子项模板编辑完成后，就可以用于在项目中的引用了。

### 新建项目

* 点进项目页面后，左侧为新建，可以新建一个项目;保存，保存当前节点；另存，将当前节点另存到团体或个人目录下。右侧按钮为选择视图，可以选择查看未完成、已完成和所有的项目；刷新，刷新当前页面；筛选器，点击可通过创建时间、开始时间和项目模板来筛选显示的项目。
* 新建项目窗口，其内信息依次为：
  * 项目模板，必选，需要在SDC(解决方案开发中心)有项目模板；
  * 项目名称，必填，可修改，默认与项目模板同名；
  * 项目编号，必填，此项目的编号；
  * 开始日期，此项目的开始日期；
  * 结束日期，此项目的结束日期；
  * 完成率，项目进行过程中用户可按照进度填写；
  * 项目描述，对于此项目的相关描述；
  * 项目管理员，用于查看和编辑哪些用户可管理此项目；
  * 项目参与人员，选择参与此项目的用户；
  * 子项模板：可以选择引用一个或多个子项模板，如果子项模板之间有关联关系，也会一并引用过来；
  * 添加属性，为此项目新建更多自定义属性，点击后的窗口内容包括：
    * 属性名
    * 数据类型(根据数据类型的不同，会有一些相应的扩展选项)
    * 终端同步

    <img alt=" " src={useBaseUrl('docimg/xiangmu1.png')} />

* 新建完项目后，在页面的顶部导航栏处，会多出一个“选择项目”，可以选择任意的项目来进行作业组计划，不属于此项目的作业组计划，则不会出现在页面上。项目初始处于未发布状态，发布之后，状态就会根据项目模板所属的流程进行变化，执行阶段可以随时开始和暂停。
* 点击选择新建的项目，视图选择详细，进入到项目详细页面。项目详细页面的概要与子项模板有一些不同，主要有：
  * 增加子项/执行项：可以直接子项或执行项
  * 引用其他：这里可以引用的是其他在新建项目时未被选择的子项模板
* 与子项模板不同的是，项目中可以选择只添加执行项，以及对于其他子项模板的操作为引用，意思是将其他子项模板内容复制到本项目中，所有编辑后的内容也是保存在当前项目中，不会影响子项模板的原内容。如果在新建项目时，设置了开始时间和结束时间，那么在视图中也会显示出来。

  <img alt=" " src={useBaseUrl('docimg/项目12.png')} />

* 在项目中对子项和执行项的添加以及编辑，和子项模板中的操作一样。不同的是，添加执行项时，出现的页面与计划页面相同，等于是在做一个工单计划，并且只能是单次的。

  <img alt=" " src={useBaseUrl('docimg/项目13.png')} />

* 完成添加和编辑之后，只要有关联关系存在，都需要点击一下自动排程，这样在发布项目时才不会有相应的报错。之后返回项目视图页面，选择发布项目，发布时可以选择是否将新建项目时设定的开始和结束时间变为实际的开始结束时间。发布时，如有报错导致无法发布，请仔细阅读错误内容，进入到详细页面进行相应的调整。

  <img alt=" " src={useBaseUrl('docimg/项目14.png')} />

* 发布之后，就会进入到流程中，可以点击开始后，在有关联关系存在的情况下，如果没有前置项，则执行项需要满足到了系统设置的作业组提前创建时间才可以被发布和创建出来。如果有前置项，那必须要满足前置的执行项都已经归档和到了系统设置的作业组提前创建时间两个条件，后置执行项才可以到发布计划阶段。如果前置项为子项，那么该子项的执行项都必须为完成状态才行。要注意变成非编辑状态的执行项，不可以再做任何的编辑，也不能再有前置节点。

  <img alt=" " src={useBaseUrl('docimg/项目15.png')} />

* 执行项创建后，只需要在终端完成执行就可以了，前置完成后，下一个就会被创建出来。这期间可以随时暂停，等全部执行项都完成归档后，点击完成即可。如果当前登录用户有待处理的项目管理工作，以及当前项目中有多少完成数量/计划总数量，会在项目名称的左右以图标和数值的方式显示。同时，会根据已完成执行项的数量，来统计项目的完成率，显示在项目结束时间的下方。如果想要查看项目的整体流程活动流转情况，可以点击编号下方的方向图标，打开流转图进行查看。

  <img alt=" " src={useBaseUrl('docimg/项目16.png')} />

* 项目流程活动全部结束后，会移动到已结束视图中，之后想要进行查看可以选择已结束然后进行查看。

  <img alt=" " src={useBaseUrl('docimg/项目17.png')} />